$(document).ready(function(event){
	window.scrollTo(0,0); //Default at top
	window.sectionsObject = {};
	var fixedLimit = $("#about-me").offset().top;
	var buttonPressed = false;

	$('.autoplay').slick({
	  slidesToShow: 3,
	  slidesToScroll: 1,
	  autoplay: true,
	  autoplaySpeed: 4000,
	  responsive: [ {
      breakpoint: 2550,
	      settings: {
	        slidesToShow: 3,
	        slidesToScroll: 1,
	        infinite: true
	      }
	    },
	    {
	      breakpoint: 800,
	      settings: {
	        slidesToShow: 2,
	        slidesToScroll: 1,
	        infinite: true
	      }
	    },
	    {
	      breakpoint: 600,
	      settings: {
	        slidesToShow: 1,
	        slidesToScroll: 1,
	        infinite: true
	      }
	    }]
	});

	//Get the y-index of the different sections
	$(".content-section").each(function(){
		window.sectionsObject[$(this)[0].id] = $(this)[0].offsetTop-91;
	});

	$('#fixed-container').hide();
	$('.slide-down-menu').hide();
	$("#nav a").on("click", function(){
		buttonPressed = true;
		var chosenElement = "#" + $(this).closest("li").attr("id").split("-button")[0];
		var scrollLocation = chosenElement != "#about-me" ? $(chosenElement).offset().top - 90 : $(chosenElement).offset().top;
		$('html, body').delay(30).stop();
		$('html, body').animate({
	    scrollTop: scrollLocation
		}, 1000);
	});	

	$(window).bind('scroll', function () {
		var currentTop = $(window).scrollTop();
		if(currentTop <= fixedLimit)
		{
			$('#fixed-container').fadeOut(500)
		}
		else{
			$('#fixed-container').fadeIn(500)
		}

		$('nav a').removeClass('active');
		//Do checks for scroll/active update for nav-bar
		if(currentTop <= window.sectionsObject["about-me"])
		{
			$('#top-button a').addClass('active');
		}
		else if(currentTop <= window.sectionsObject["resume"])
		{
			$('#about-me-button a').addClass('active');
		}
		else if(currentTop <= window.sectionsObject["contact"])
		{
			$('#resume-button a').addClass('active');
		}
		else
		{
			$('#contact-button a').addClass('active');
		}
	});

	$( window ).resize(function() {
		$("#nav a").each(function(){
			//debugger;
		});
	});
});
